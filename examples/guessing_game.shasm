; Number guessing game
; number = 0

main:
	push 1u
	alloc
	push 101
	push 1
	push "rand_int"
	ecall
	push 0u
	stlo
	goto "loop"

loop:
	push "Guess a number:"
	push "print"
	ecall
	push "readline"
	ecall
	dup
	push 0u
	ldlo
	eq
	gotof "correct"
	dup
	push 0u
	ldlo
	lt
	goto "large"
	pop
	goto "small"

correct:
	push "Correct!"
	push "print"
	ecall
	halt

small:
	push "Too small."
	push "print"
	ecall
	goto "loop"

large:
	pop
	push "Too large."
	push "print"
	ecall
	goto "loop"